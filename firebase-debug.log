[debug] [2025-04-24T09:08:09.397Z] ----------------------------------------------------------------------
[debug] [2025-04-24T09:08:09.398Z] Command:       /Users/ulrikhaland/.nvm/versions/node/v20.17.0/bin/node /Users/ulrikhaland/.nvm/versions/node/v20.17.0/bin/firebase deploy --only functions
[debug] [2025-04-24T09:08:09.398Z] CLI Version:   13.22.1
[debug] [2025-04-24T09:08:09.399Z] Platform:      darwin
[debug] [2025-04-24T09:08:09.399Z] Node Version:  v20.17.0
[debug] [2025-04-24T09:08:09.399Z] Time:          Thu Apr 24 2025 11:08:09 GMT+0200 (Central European Summer Time)
[debug] [2025-04-24T09:08:09.399Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-04-24T09:08:09.437Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-24T09:08:09.437Z] > authorizing via signed-in user (ulrikhaaland2@gmail.com)
[debug] [2025-04-24T09:08:09.437Z] [iam] checking project musco-dc111 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-04-24T09:08:09.438Z] Checked if tokens are valid: false, expires at: 1745480801193
[debug] [2025-04-24T09:08:09.438Z] Checked if tokens are valid: false, expires at: 1745480801193
[debug] [2025-04-24T09:08:09.438Z] > refreshing access token with scopes: []
[debug] [2025-04-24T09:08:09.438Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-04-24T09:08:09.439Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-04-24T09:08:09.562Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-04-24T09:08:09.562Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-04-24T09:08:09.576Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/musco-dc111:testIamPermissions [none]
[debug] [2025-04-24T09:08:09.576Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/musco-dc111:testIamPermissions x-goog-quota-user=projects/musco-dc111
[debug] [2025-04-24T09:08:09.576Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/musco-dc111:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-24T09:08:09.811Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/musco-dc111:testIamPermissions 200
[debug] [2025-04-24T09:08:09.812Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/musco-dc111:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-24T09:08:09.812Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:09.812Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:09.813Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/musco-dc111/serviceAccounts/musco-dc111@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-04-24T09:08:09.813Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/musco-dc111/serviceAccounts/musco-dc111@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-04-24T09:08:10.601Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/musco-dc111/serviceAccounts/musco-dc111@appspot.gserviceaccount.com:testIamPermissions 404
[debug] [2025-04-24T09:08:10.601Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/musco-dc111/serviceAccounts/musco-dc111@appspot.gserviceaccount.com:testIamPermissions {"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}}
[debug] [2025-04-24T09:08:10.601Z] [functions] service account IAM check errored, deploy may fail: HTTP Error: 404, Unknown service account {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Unknown service account","status":404}
[info] 
[info] === Deploying to 'musco-dc111'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[debug] [2025-04-24T09:08:15.710Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:15.710Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:15.710Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/musco-dc111 [none]
[debug] [2025-04-24T09:08:16.052Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/musco-dc111 200
[debug] [2025-04-24T09:08:16.052Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/musco-dc111 {"projectId":"musco-dc111","projectNumber":"1084458794272","displayName":"musco","name":"projects/musco-dc111","resources":{"hostingSite":"musco-dc111"},"state":"ACTIVE","etag":"1_1dfe5a59-c9a6-4b3c-b003-240660632792"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-04-24T09:08:16.054Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:16.054Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:16.054Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:16.054Z] Checked if tokens are valid: true, expires at: 1745489288562
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-04-24T09:08:16.054Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:16.054Z] Checked if tokens are valid: true, expires at: 1745489288562
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-04-24T09:08:16.055Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:16.055Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:16.055Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/cloudfunctions.googleapis.com [none]
[debug] [2025-04-24T09:08:16.055Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/musco-dc111
[debug] [2025-04-24T09:08:16.056Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/runtimeconfig.googleapis.com [none]
[debug] [2025-04-24T09:08:16.056Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/musco-dc111
[debug] [2025-04-24T09:08:16.057Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/cloudbuild.googleapis.com [none]
[debug] [2025-04-24T09:08:16.058Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/cloudbuild.googleapis.com x-goog-quota-user=projects/musco-dc111
[debug] [2025-04-24T09:08:16.058Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/artifactregistry.googleapis.com [none]
[debug] [2025-04-24T09:08:16.058Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/artifactregistry.googleapis.com x-goog-quota-user=projects/musco-dc111
[debug] [2025-04-24T09:08:17.080Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/runtimeconfig.googleapis.com 200
[debug] [2025-04-24T09:08:17.080Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-04-24T09:08:17.081Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/cloudfunctions.googleapis.com 200
[debug] [2025-04-24T09:08:17.081Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-04-24T09:08:17.083Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/cloudbuild.googleapis.com 200
[debug] [2025-04-24T09:08:17.084Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-04-24T09:08:17.085Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/artifactregistry.googleapis.com 200
[debug] [2025-04-24T09:08:17.085Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-04-24T09:08:17.085Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:17.085Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:17.085Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/musco-dc111/adminSdkConfig [none]
[debug] [2025-04-24T09:08:17.489Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/musco-dc111/adminSdkConfig 200
[debug] [2025-04-24T09:08:17.490Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/musco-dc111/adminSdkConfig {"projectId":"musco-dc111","storageBucket":"musco-dc111.firebasestorage.app"}
[debug] [2025-04-24T09:08:17.490Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:17.490Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:17.491Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/musco-dc111/configs [none]
[debug] [2025-04-24T09:08:17.789Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/musco-dc111/configs 200
[debug] [2025-04-24T09:08:17.790Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/musco-dc111/configs {}
[debug] [2025-04-24T09:08:17.793Z] Validating nodejs source
[warn] ⚠  functions: Runtime Node.js 18 will be deprecated on 2025-04-30 and will be decommissioned on 2025-10-31, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[debug] [2025-04-24T09:08:18.228Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^13.3.0",
    "firebase-functions": "^6.0.1",
    "resend": "^4.4.0"
  },
  "devDependencies": {
    "@babel/eslint-parser": "^7.27.0",
    "@typescript-eslint/eslint-plugin": "^8.31.0",
    "@typescript-eslint/parser": "^8.31.0",
    "eslint": "^8.57.1",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.8.3"
  },
  "private": true
}
[debug] [2025-04-24T09:08:18.228Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-04-24T09:08:18.229Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-24T09:08:18.234Z] Found firebase-functions binary at '/Users/ulrikhaland/Documents/musco-new/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8968

[debug] [2025-04-24T09:08:18.502Z] Got response from /__/functions.yaml {"endpoints":{"sendLoginEmail":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"sendLoginEmail"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{},"params":[{"name":"RESEND_API_KEY","type":"string"},{"name":"DYNAMIC_LINK_DOMAIN","type":"string"},{"name":"EMAIL_FROM_ADDRESS","type":"string","default":"noreply@bodai.no"},{"name":"ALLOWED_ORIGINS","type":"string","default":"http://localhost:3000,https://bodai.no,https://www.bodai.no"}]}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-04-24T09:08:23.522Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:23.522Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:23.522Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/firebaseextensions.googleapis.com [none]
[debug] [2025-04-24T09:08:23.522Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/musco-dc111
[debug] [2025-04-24T09:08:24.463Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/firebaseextensions.googleapis.com 200
[debug] [2025-04-24T09:08:24.463Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-04-24T09:08:24.464Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-24T09:08:24.464Z] > authorizing via signed-in user (ulrikhaaland2@gmail.com)
[debug] [2025-04-24T09:08:24.465Z] [iam] checking project musco-dc111 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-04-24T09:08:24.465Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:24.465Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:24.465Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/musco-dc111:testIamPermissions [none]
[debug] [2025-04-24T09:08:24.465Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/musco-dc111:testIamPermissions x-goog-quota-user=projects/musco-dc111
[debug] [2025-04-24T09:08:24.465Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/musco-dc111:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-24T09:08:24.657Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/musco-dc111:testIamPermissions 200
[debug] [2025-04-24T09:08:24.658Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/musco-dc111:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-24T09:08:24.660Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:24.660Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:24.661Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/musco-dc111/instances pageSize=100&pageToken=
[debug] [2025-04-24T09:08:25.536Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/musco-dc111/instances 200
[debug] [2025-04-24T09:08:25.536Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/musco-dc111/instances {}
[info] i  functions: Loaded environment variables from .env.musco-dc111. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/ulrikhaland/Documents/musco-new/functions (99.06 KB) for uploading 
[debug] [2025-04-24T09:08:25.577Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:25.577Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:25.577Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/musco-dc111/locations/-/functions [none]
[debug] [2025-04-24T09:08:26.262Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/musco-dc111/locations/-/functions 200
[debug] [2025-04-24T09:08:26.262Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/musco-dc111/locations/-/functions {}
[debug] [2025-04-24T09:08:26.262Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:26.262Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:26.263Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-04-24T09:08:27.355Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/-/functions 200
[debug] [2025-04-24T09:08:27.355Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/-/functions {"functions":[{"name":"projects/musco-dc111/locations/us-central1/functions/sendLoginEmail","buildConfig":{"build":"projects/1084458794272/locations/us-central1/builds/eb677ba1-0557-4e8c-82d8-23ab61598b68","runtime":"nodejs18","entryPoint":"sendLoginEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-1084458794272-us-central1","object":"sendLoginEmail/function-source.zip","generation":"1745477869758776"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/musco-dc111/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1084458794272-us-central1","object":"sendLoginEmail/function-source.zip","generation":"1745477869758776"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/musco-dc111/serviceAccounts/1084458794272-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/musco-dc111/locations/us-central1/services/sendloginemail","timeoutSeconds":60,"environmentVariables":{"RESEND_API_KEY":"re_h4S7TWqJ_63xzUJ1UsPLjGDLkKwg1CaR2","APP_BASE_URL":"https://bodai.no","DYNAMIC_LINK_DOMAIN":"","EMAIL_FROM_ADDRESS":"noreply@bodai.no","ALLOWED_ORIGINS":"http://localhost:3000,https://bodai.no","FIREBASE_CONFIG":"{\"projectId\":\"musco-dc111\",\"storageBucket\":\"musco-dc111.firebasestorage.app\"}","GCLOUD_PROJECT":"musco-dc111","EVENTARC_CLOUD_EVENT_SOURCE":"projects/musco-dc111/locations/us-central1/services/sendLoginEmail","FUNCTION_TARGET":"sendLoginEmail","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://sendloginemail-latacasvlq-uc.a.run.app","serviceAccountEmail":"1084458794272-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendloginemail-00014-zar","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-04-24T06:58:37.397763148Z","labels":{"deployment-callable":"true","firebase-functions-hash":"910308873d4465675dd87a8c3fd214a9dc9843e8","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-musco-dc111.cloudfunctions.net/sendLoginEmail","createTime":"2025-04-23T12:30:44.171642589Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-04-24T09:08:27.357Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:27.357Z] Checked if tokens are valid: true, expires at: 1745489288562
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-04-24T09:08:27.357Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:27.358Z] Checked if tokens are valid: true, expires at: 1745489288562
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-04-24T09:08:27.358Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:27.358Z] Checked if tokens are valid: true, expires at: 1745489288562
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-04-24T09:08:27.358Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:27.358Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:27.358Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/run.googleapis.com [none]
[debug] [2025-04-24T09:08:27.358Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/run.googleapis.com x-goog-quota-user=projects/musco-dc111
[debug] [2025-04-24T09:08:27.358Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/eventarc.googleapis.com [none]
[debug] [2025-04-24T09:08:27.358Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/eventarc.googleapis.com x-goog-quota-user=projects/musco-dc111
[debug] [2025-04-24T09:08:27.360Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/pubsub.googleapis.com [none]
[debug] [2025-04-24T09:08:27.360Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/pubsub.googleapis.com x-goog-quota-user=projects/musco-dc111
[debug] [2025-04-24T09:08:27.362Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/storage.googleapis.com [none]
[debug] [2025-04-24T09:08:27.363Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/storage.googleapis.com x-goog-quota-user=projects/musco-dc111
[debug] [2025-04-24T09:08:28.234Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/run.googleapis.com 200
[debug] [2025-04-24T09:08:28.234Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2025-04-24T09:08:28.282Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/storage.googleapis.com 200
[debug] [2025-04-24T09:08:28.282Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[debug] [2025-04-24T09:08:28.307Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/pubsub.googleapis.com 200
[debug] [2025-04-24T09:08:28.308Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-04-24T09:08:28.308Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/eventarc.googleapis.com 200
[debug] [2025-04-24T09:08:28.308Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/musco-dc111/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-04-24T09:08:28.308Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:28.308Z] Checked if tokens are valid: true, expires at: 1745489288562
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-04-24T09:08:28.308Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:28.308Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:28.308Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/1084458794272/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-24T09:08:28.308Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/1084458794272/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-24T09:08:28.748Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/1084458794272/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-24T09:08:28.748Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/1084458794272/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-1084458794272@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"116138625822808422071"}}
[debug] [2025-04-24T09:08:29.190Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/1084458794272/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-24T09:08:29.191Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/1084458794272/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-1084458794272@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"108128622036870707275"}}
[debug] [2025-04-24T09:08:29.192Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:29.192Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:29.192Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/musco-dc111 [none]
[debug] [2025-04-24T09:08:29.483Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/musco-dc111 200
[debug] [2025-04-24T09:08:29.484Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/musco-dc111 {"projectId":"musco-dc111","projectNumber":"1084458794272","displayName":"musco","name":"projects/musco-dc111","resources":{"hostingSite":"musco-dc111"},"state":"ACTIVE","etag":"1_1dfe5a59-c9a6-4b3c-b003-240660632792"}
[debug] [2025-04-24T09:08:29.486Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:29.486Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:29.486Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/musco-dc111/billingInfo [none]
[debug] [2025-04-24T09:08:29.914Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/musco-dc111/billingInfo 200
[debug] [2025-04-24T09:08:29.915Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/musco-dc111/billingInfo {"name":"projects/musco-dc111/billingInfo","projectId":"musco-dc111","billingAccountName":"billingAccounts/01AF99-69253D-2DC18C","billingEnabled":true}
[debug] [2025-04-24T09:08:29.916Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:29.916Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:29.916Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-04-24T09:08:30.865Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-04-24T09:08:30.865Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-1084458794272.us-central1.cloudfunctions.appspot.com/2fd4da37-a7c9-4687-99ef-9385e5cccc77.zip?GoogleAccessId=service-1084458794272@gcf-admin-robot.iam.gserviceaccount.com&Expires=1745487510&Signature=COsZ2llEqTh3GCnHGZRJrb6BlpGrl6nCQBhTvpTAk0Zx1A5AERNI19T6f2CnS518xYMgWHeTqYPFkGFzeYhlUx%2F%2FEDFWkre%2F0th4ekb3cb8d11I7v0lBzZ33REWzh%2FPF36QWOJTKZIabCcJOF%2F4pVy4belUnCGgnmj9k1QwDZLYUTWj%2FTNKlVmjHJhLla7NEf%2BtB7K%2FJWrYqlAXv%2B7gOu6XWA%2FWkUZkM1JA7GK3SdV%2BOUAXNGjF5pR0YDH0DSXOWt8wVCUCczPHFU541mszLPNXaoeWCfNVNDImUYZhiWfGyX1B56hJ4gDkNmbyfGoOsvMK4tes9khNyPFf7IdGEAg%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-1084458794272.us-central1.cloudfunctions.appspot.com","object":"2fd4da37-a7c9-4687-99ef-9385e5cccc77.zip"}}
[debug] [2025-04-24T09:08:30.866Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-1084458794272.us-central1.cloudfunctions.appspot.com/2fd4da37-a7c9-4687-99ef-9385e5cccc77.zip GoogleAccessId=service-1084458794272%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1745487510&Signature=COsZ2llEqTh3GCnHGZRJrb6BlpGrl6nCQBhTvpTAk0Zx1A5AERNI19T6f2CnS518xYMgWHeTqYPFkGFzeYhlUx%2F%2FEDFWkre%2F0th4ekb3cb8d11I7v0lBzZ33REWzh%2FPF36QWOJTKZIabCcJOF%2F4pVy4belUnCGgnmj9k1QwDZLYUTWj%2FTNKlVmjHJhLla7NEf%2BtB7K%2FJWrYqlAXv%2B7gOu6XWA%2FWkUZkM1JA7GK3SdV%2BOUAXNGjF5pR0YDH0DSXOWt8wVCUCczPHFU541mszLPNXaoeWCfNVNDImUYZhiWfGyX1B56hJ4gDkNmbyfGoOsvMK4tes9khNyPFf7IdGEAg%3D%3D
[debug] [2025-04-24T09:08:30.867Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-1084458794272.us-central1.cloudfunctions.appspot.com/2fd4da37-a7c9-4687-99ef-9385e5cccc77.zip [stream]
[debug] [2025-04-24T09:08:31.553Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-1084458794272.us-central1.cloudfunctions.appspot.com/2fd4da37-a7c9-4687-99ef-9385e5cccc77.zip 200
[debug] [2025-04-24T09:08:31.553Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-1084458794272.us-central1.cloudfunctions.appspot.com/2fd4da37-a7c9-4687-99ef-9385e5cccc77.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (2nd Gen) function sendLoginEmail(us-central1)... 
[debug] [2025-04-24T09:08:31.559Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:31.559Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:31.559Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/functions/sendLoginEmail updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-04-24T09:08:31.560Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/functions/sendLoginEmail {"name":"projects/musco-dc111/locations/us-central1/functions/sendLoginEmail","buildConfig":{"runtime":"nodejs18","entryPoint":"sendLoginEmail","source":{"storageSource":{"bucket":"gcf-v2-uploads-1084458794272.us-central1.cloudfunctions.appspot.com","object":"2fd4da37-a7c9-4687-99ef-9385e5cccc77.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"RESEND_API_KEY":"re_h4S7TWqJ_63xzUJ1UsPLjGDLkKwg1CaR2","APP_BASE_URL":"https://bodai.no","DYNAMIC_LINK_DOMAIN":"","EMAIL_FROM_ADDRESS":"noreply@bodai.no","ALLOWED_ORIGINS":"http://localhost:3000,https://bodai.no","FIREBASE_CONFIG":"{\"projectId\":\"musco-dc111\",\"storageBucket\":\"musco-dc111.firebasestorage.app\"}","GCLOUD_PROJECT":"musco-dc111","EVENTARC_CLOUD_EVENT_SOURCE":"projects/musco-dc111/locations/us-central1/services/sendLoginEmail","FUNCTION_TARGET":"sendLoginEmail"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"de98092e2373c64f4b1deec180c8ef6496afe7fe"}}
[debug] [2025-04-24T09:08:33.311Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/functions/sendLoginEmail 200
[debug] [2025-04-24T09:08:33.311Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/functions/sendLoginEmail {"name":"projects/musco-dc111/locations/us-central1/operations/operation-1745485712399-633828fd91be1-28b996cc-0d1f66f0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-24T09:08:33.266132495Z","target":"projects/musco-dc111/locations/us-central1/functions/sendLoginEmail","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-04-24T09:08:33.312Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:33.312Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:33.312Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/operations/operation-1745485712399-633828fd91be1-28b996cc-0d1f66f0 [none]
[debug] [2025-04-24T09:08:34.195Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/operations/operation-1745485712399-633828fd91be1-28b996cc-0d1f66f0 200
[debug] [2025-04-24T09:08:34.196Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/operations/operation-1745485712399-633828fd91be1-28b996cc-0d1f66f0 {"name":"projects/musco-dc111/locations/us-central1/operations/operation-1745485712399-633828fd91be1-28b996cc-0d1f66f0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-24T09:08:33.266132495Z","target":"projects/musco-dc111/locations/us-central1/functions/sendLoginEmail","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/musco-dc111/locations/us-central1/functions/sendLoginEmail","buildConfig":{"runtime":"nodejs18","entryPoint":"sendLoginEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-1084458794272-us-central1","object":"sendLoginEmail/function-source.zip","generation":"1745485713224586"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/musco-dc111/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1084458794272-us-central1","object":"sendLoginEmail/function-source.zip","generation":"1745477869758776"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/musco-dc111/serviceAccounts/1084458794272-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/musco-dc111/locations/us-central1/services/sendloginemail","timeoutSeconds":60,"environmentVariables":{"RESEND_API_KEY":"re_h4S7TWqJ_63xzUJ1UsPLjGDLkKwg1CaR2","APP_BASE_URL":"https://bodai.no","DYNAMIC_LINK_DOMAIN":"","EMAIL_FROM_ADDRESS":"noreply@bodai.no","ALLOWED_ORIGINS":"http://localhost:3000,https://bodai.no","FIREBASE_CONFIG":"{\"projectId\":\"musco-dc111\",\"storageBucket\":\"musco-dc111.firebasestorage.app\"}","GCLOUD_PROJECT":"musco-dc111","EVENTARC_CLOUD_EVENT_SOURCE":"projects/musco-dc111/locations/us-central1/services/sendLoginEmail","FUNCTION_TARGET":"sendLoginEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://sendloginemail-latacasvlq-uc.a.run.app","serviceAccountEmail":"1084458794272-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendloginemail-00014-zar","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"de98092e2373c64f4b1deec180c8ef6496afe7fe"},"environment":"GEN_2","url":"https://us-central1-musco-dc111.cloudfunctions.net/sendLoginEmail","satisfiesPzi":true},"stages":[{"name":"BUILD","state":"NOT_STARTED","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Node.js 18 will be deprecated on 2025-04-30. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2025-04-24T09:08:34.698Z] [update-default-us-central1-sendLoginEmail] Retrying task index 0
[debug] [2025-04-24T09:08:34.698Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:34.699Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:34.699Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/operations/operation-1745485712399-633828fd91be1-28b996cc-0d1f66f0 [none]
[debug] [2025-04-24T09:08:35.528Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/operations/operation-1745485712399-633828fd91be1-28b996cc-0d1f66f0 200
[debug] [2025-04-24T09:08:35.528Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/operations/operation-1745485712399-633828fd91be1-28b996cc-0d1f66f0 {"name":"projects/musco-dc111/locations/us-central1/operations/operation-1745485712399-633828fd91be1-28b996cc-0d1f66f0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-24T09:08:33.266132495Z","target":"projects/musco-dc111/locations/us-central1/functions/sendLoginEmail","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/musco-dc111/locations/us-central1/functions/sendLoginEmail","buildConfig":{"runtime":"nodejs18","entryPoint":"sendLoginEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-1084458794272-us-central1","object":"sendLoginEmail/function-source.zip","generation":"1745485713224586"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/musco-dc111/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1084458794272-us-central1","object":"sendLoginEmail/function-source.zip","generation":"1745477869758776"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/musco-dc111/serviceAccounts/1084458794272-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/musco-dc111/locations/us-central1/services/sendloginemail","timeoutSeconds":60,"environmentVariables":{"RESEND_API_KEY":"re_h4S7TWqJ_63xzUJ1UsPLjGDLkKwg1CaR2","APP_BASE_URL":"https://bodai.no","DYNAMIC_LINK_DOMAIN":"","EMAIL_FROM_ADDRESS":"noreply@bodai.no","ALLOWED_ORIGINS":"http://localhost:3000,https://bodai.no","FIREBASE_CONFIG":"{\"projectId\":\"musco-dc111\",\"storageBucket\":\"musco-dc111.firebasestorage.app\"}","GCLOUD_PROJECT":"musco-dc111","EVENTARC_CLOUD_EVENT_SOURCE":"projects/musco-dc111/locations/us-central1/services/sendLoginEmail","FUNCTION_TARGET":"sendLoginEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://sendloginemail-latacasvlq-uc.a.run.app","serviceAccountEmail":"1084458794272-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendloginemail-00014-zar","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"de98092e2373c64f4b1deec180c8ef6496afe7fe"},"environment":"GEN_2","url":"https://us-central1-musco-dc111.cloudfunctions.net/sendLoginEmail","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1084458794272/locations/us-central1/builds/b37c42af-241a-4a27-84cb-65f05405cf9f","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/b37c42af-241a-4a27-84cb-65f05405cf9f?project=1084458794272"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1084458794272/locations/us-central1/builds/b37c42af-241a-4a27-84cb-65f05405cf9f"},"done":false}
[debug] [2025-04-24T09:08:36.529Z] [update-default-us-central1-sendLoginEmail] Retrying task index 0
[debug] [2025-04-24T09:08:36.530Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:36.530Z] Checked if tokens are valid: true, expires at: 1745489288562
[debug] [2025-04-24T09:08:36.530Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/operations/operation-1745485712399-633828fd91be1-28b996cc-0d1f66f0 [none]
[debug] [2025-04-24T09:08:37.379Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/operations/operation-1745485712399-633828fd91be1-28b996cc-0d1f66f0 200
[debug] [2025-04-24T09:08:37.379Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/musco-dc111/locations/us-central1/operations/operation-1745485712399-633828fd91be1-28b996cc-0d1f66f0 {"name":"projects/musco-dc111/locations/us-central1/operations/operation-1745485712399-633828fd91be1-28b996cc-0d1f66f0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-24T09:08:33.266132495Z","target":"projects/musco-dc111/locations/us-central1/functions/sendLoginEmail","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/musco-dc111/locations/us-central1/functions/sendLoginEmail","buildConfig":{"runtime":"nodejs18","entryPoint":"sendLoginEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-1084458794272-us-central1","object":"sendLoginEmail/function-source.zip","generation":"1745485713224586"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/musco-dc111/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1084458794272-us-central1","object":"sendLoginEmail/function-source.zip","generation":"1745477869758776"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/musco-dc111/serviceAccounts/1084458794272-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/musco-dc111/locations/us-central1/services/sendloginemail","timeoutSeconds":60,"environmentVariables":{"RESEND_API_KEY":"re_h4S7TWqJ_63xzUJ1UsPLjGDLkKwg1CaR2","APP_BASE_URL":"https://bodai.no","DYNAMIC_LINK_DOMAIN":"","EMAIL_FROM_ADDRESS":"noreply@bodai.no","ALLOWED_ORIGINS":"http://localhost:3000,https://bodai.no","FIREBASE_CONFIG":"{\"projectId\":\"musco-dc111\",\"storageBucket\":\"musco-dc111.firebasestorage.app\"}","GCLOUD_PROJECT":"musco-dc111","EVENTARC_CLOUD_EVENT_SOURCE":"projects/musco-dc111/locations/us-central1/services/sendLoginEmail","FUNCTION_TARGET":"sendLoginEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://sendloginemail-latacasvlq-uc.a.run.app","serviceAccountEmail":"1084458794272-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"sendloginemail-00014-zar","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"de98092e2373c64f4b1deec180c8ef6496afe7fe"},"environment":"GEN_2","url":"https://us-central1-musco-dc111.cloudfunctions.net/sendLoginEmail","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1084458794272/locations/us-central1/builds/b37c42af-241a-4a27-84cb-65f05405cf9f","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/b37c42af-241a-4a27-84cb-65f05405cf9f?project=1084458794272"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1084458794272/locations/us-central1/builds/b37c42af-241a-4a27-84cb-65f05405cf9f"},"done":false}
